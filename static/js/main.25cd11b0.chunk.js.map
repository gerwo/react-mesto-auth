{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/AuthForm.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","utils/api.js","utils/utils.js","utils/auth.js","images/done-query.svg","images/error-query.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","isLoggedIn","to","Header","className","path","userLogin","onClick","onSignOut","src","logo","alt","AuthForm","useState","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","name","title","value","onChange","target","type","placeholder","required","autoComplete","maxLength","id","minLength","isLoading","loadingButtonTitle","buttonTitle","Login","Register","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","onCardClick","aria-label","onCardLike","length","onConfirmClick","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","ImagePopup","card","popup","useRef","ref","isOpen","role","onLayout","current","onClose","PopupWithForm","method","children","buttonName","EditProfilePopup","setName","description","setDescription","useEffect","e","onUpdateUser","EditAvatarPopup","avatarRef","onUpdateAvatar","setTimeout","AddPlacePopup","setLink","ConfirmPopup","onConfirm","api","url","headers","this","_url","_headers","fetch","then","result","_getResponseData","body","JSON","stringify","cardId","ok","json","Promise","reject","Error","status","authorization","getResponseData","BASE_URL","InfoTooltip","image","message","App","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopup","isConfirmPopupOpen","setConfirmPopup","isInfoPopupOpen","setInfoPopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","setLoading","headerUserLogin","setHeaderUserLogin","isInfoTooltip","setInfoTooltip","setCurrentUser","setInfoTooltipError","infoTooltipErrorImage","handleLayoutClick","addEventListener","currentTarget","closeAllPopups","checkTokenInStorage","localStorage","getItem","token","jwt","res","data","catch","err","console","log","resolve","getUserInfo","getCards","error","useEventListener","key","Provider","removeItem","exact","changeLikeCardStatus","newCard","newCards","c","auth","setItem","infoTooltipDoneImage","finally","push","addCard","setUserAvatar","setUserInfo","deleteCard","filter","handleLayoutClickisLoading","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25cd11b0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","\r\nimport logo from '../images/logo.svg';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nfunction  Header(props) {\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__menu\">\r\n        <Route path=\"/signin\">\r\n          <Link to=\"signup\" className=\"header__link\">Регистрация</Link>\r\n        </Route>\r\n        <Route path=\"/signup\">\r\n          <Link to=\"signin\" className=\"header__link\">Войти</Link>\r\n        </Route>\r\n        {props.isLoggedIn &&\r\n        <>\r\n          <p className=\"header__user-login\">{props.userLogin}</p>\r\n          <Link className=\"header__link\" onClick={props.onSignOut}>Выйти</Link >\r\n        </>\r\n        }\r\n      </div>\r\n      <img src={logo} className=\"logo\" alt=\"Логотип Mesto\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React, {useState} from 'react';\r\n\r\nfunction AuthForm(props) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleEmailChange(evt){\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(evt){\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt){\r\n    evt.preventDefault();\r\n    props.onSubmit({email, password});\r\n  }\r\n\r\n\r\n  return (\r\n      <form onSubmit={handleSubmit} name={props.name} className=\"form\">\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n        <input \r\n          value = {email}\r\n          onChange = {handleEmailChange}\r\n          name=\"email-input\" \r\n          type=\"email\" \r\n          className=\"form__input form__input_type_email\" \r\n          placeholder=\"Email\" \r\n          required \r\n          autoComplete=\"email\" \r\n          maxLength=\"50\" />\r\n        <span className=\"form__input-error\" id=\"email-input-error\" />\r\n          \r\n        <input \r\n          value = {password}\r\n          onChange = {handlePasswordChange}\r\n          name=\"password-input\" \r\n          type=\"password\" \r\n          className=\"form__input form__input_type_password\" \r\n          placeholder=\"Пароль\" \r\n          required \r\n          autoComplete=\"password\" \r\n          minLength=\"8\" \r\n          maxLength=\"100\"/>\r\n        <span className=\"form__input-error\" id=\"password-input-error\" />\r\n        \r\n        <button type=\"submit\" className=\"button button_type_submit-form opacity\">{props.isLoading ? props.loadingButtonTitle : props.buttonTitle}</button>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <AuthForm\r\n        name=\"login\"\r\n        isLoading = {props.isLoading}\r\n        onSubmit={props.onSubmit}\r\n        title = \"Войти\"\r\n        loadingButtonTitle = \"Вход...\"\r\n        buttonTitle = \"Войти\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props){\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <AuthForm\r\n        name=\"registration\"\r\n        isLoading = {props.isLoading}\r\n        onSubmit={props.onSubmit}\r\n        title = \"Регистрация\"\r\n        loadingButtonTitle = \"Регистрация...\"\r\n        buttonTitle = \"Зарегистрироваться\"\r\n      />\r\n      <p className=\"auth__text\">Уже зарегистрированы? <Link to=\"/signin\" className=\"auth__link opacity\">Войти</Link></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const isOwn = props.owner._id === currentUser._id;\r\n\r\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (\r\n    `button button_type_like opacity ${isLiked ? 'button_type_like_active' : ''}`\r\n  );\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `button button_type_delete-card ${isOwn ? 'button_type_delete-card-visible' : 'button_type_delete-card-hidden'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props);\r\n  }\r\n\r\n  function handleDeleteClick(){\r\n    //console.log(props);\r\n    props.onConfirmClick(props);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\"> \r\n      <img className=\"card__image\" alt={`Изображение ${props.name}`} src={props.link} onClick={handleClick}/>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__title\">{props.name}</h2>\r\n        <div className=\"card__like-block\">\r\n          <button className={cardLikeButtonClassName}  aria-label=\"Нравиться\" type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-count\">{props.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-block\">\r\n          <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Аватар\"/>\r\n          <button\r\n            className=\"button button_type_edite-avatar opacity\"\r\n            aria-label=\"Редактировать\"\r\n            type=\"button\"\r\n            onClick={props.onEditAvatar}/>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__full-name-wraper\">\r\n            <h1 className=\"profile__full-name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"button button_type_edite-profile opacity\"\r\n              aria-label=\"Редактировать\"\r\n              type=\"button\"\r\n              onClick={props.onEditProfile}/>\r\n          </div>\r\n          <p className=\"profile__occupation\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"button button_type_add-card opacity\"\r\n          aria-label=\"Добавить карточку\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}/>\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"cards__block\">\r\n          {props.cards.map(item => <Card \r\n            key = {item._id} \r\n            onConfirmClick={props.onConfirmClick} \r\n            onCardLike={props.onCardLike} \r\n            onCardClick={props.onCardClick} \r\n            {...item}/>)}\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React, {useRef} from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const card = props.card;\r\n\r\n  const popup = useRef();\r\n\r\n  function handleLayoutClick() {\r\n    props.onLayout(popup.current);\r\n  }\r\n  \r\n  return (\r\n    <div ref={popup} className={`popup popup_image ${props.isOpen ? 'popup_opened' : ''}`}  role=\"dialog\" onClick={handleLayoutClick}>\r\n      <div className=\"popup__image-container\">\r\n        <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image\" alt={`Изображение ${card.name}`} src={card.link}/>\r\n        <h2 className=\"popup__image-title\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;","import React, {useRef} from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const popup = useRef();\r\n\r\n  function handleLayoutClick() {\r\n    props.onLayout(popup.current);\r\n  }\r\n\r\n  return (\r\n    <div ref={popup} className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`} role=\"dialog\" onClick={handleLayoutClick}>\r\n      <div className=\"popup__container\">\r\n      <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"popup__form popup__form_add-new-card\" method=\"POST\" name={props.name} onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button type=\"submit\"  className=\"button popup__button button_type_submit opacity\">{props.isLoading ? props.loadingButtonTitle : props.buttonName}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Редактировать профиль\" \r\n      buttonName=\"Сохранить\" \r\n      name=\"profile\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'>\r\n      \r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_full-name\" \r\n        name=\"name\" \r\n        placeholder=\"ФИО\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"20\"\r\n        id=\"full-name\"\r\n        value={name}\r\n        onChange={handleChangeName}/>\r\n      <span id=\"full-name-error\" className=\"popup__error\"></span>\r\n      \r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_occupation\" \r\n        name=\"occupation\" \r\n        placeholder=\"Род деятельности\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"200\"\r\n        id=\"occupation\"\r\n        value={description}\r\n        onChange={handleChangeAbout}/>\r\n      <span id=\"occupation-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n    \r\n    setTimeout(() => {\r\n      avatarRef.current.value = '';\r\n    }, 700);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Обновить аватар\" \r\n      buttonName=\"Сохранить\" \r\n      name=\"avatar\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'\r\n      >\r\n      <input\r\n        ref={avatarRef}\r\n        type=\"url\" \r\n        className=\"popup__input popup__input_avatar-link\" \r\n        name=\"avatar\" \r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        id=\"avatar\"/>\r\n      <span id=\"avatar-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    \r\n    props.onAddPlace({name, link});  \r\n\r\n    setTimeout(() => {\r\n      setName('');\r\n      setLink('');\r\n    }, 700)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Новое место\" \r\n      buttonName=\"Создать\" \r\n      name=\"card\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      isLoading={props.isLoading}\r\n      onLayout={props.onLayout}\r\n      onSubmit= {handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'>\r\n      <input \r\n        value={name}\r\n        onChange={handleChangeName}\r\n        type=\"text\" \r\n        className=\"popup__input popup__input_image-title\" \r\n        name=\"image-title\" \r\n        placeholder=\"Название\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"30\" \r\n        id=\"image-title\"/>\r\n      <span id=\"image-title-error\" className=\"popup__error\"></span>\r\n      \r\n      <input \r\n        value={link}\r\n        onChange={handleChangeLink}\r\n        type=\"url\" \r\n        className=\"popup__input popup__input_image-link\" \r\n        name=\"image-link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        required\r\n        id=\"image-link\"/>\r\n      <span id=\"image-link-error\" className=\"popup__error\"></span>\r\n   \r\n   </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props){\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onConfirm(props);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Вы уверены?\" \r\n      buttonName=\"Да\" \r\n      name=\"confirm\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Удаление...'\r\n      >\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;","class Api{\r\n  \r\n  constructor({url, headers}){\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  addCard({name, link}){\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body : JSON.stringify({\r\n        name: name,\r\n        link : link \r\n      })\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  getUserInfo(){\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  setUserInfo({name, about}){\r\n    return fetch(`${this._url}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body : JSON.stringify({name, about})\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  setUserAvatar({avatar}) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body : JSON.stringify({avatar})\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n  \r\n  deleteCard({cardId}) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  changeLikeCardStatus({cardId, isLiked}){\r\n\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  _getResponseData({result}){\r\n    return result.ok ? result.json() : Promise.reject(new Error(`Ошибка ${result.status}`));\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url : 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers :{\r\n    authorization : 'a2645d68-6dae-4ace-a29b-319c06bb5839',\r\n    'Content-Type' : 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n","\r\nexport function getResponseData(result){\r\n  return result.ok ? result.json() : Promise.reject(new Error(`Ошибка ${result.status}`));\r\n}","\r\nimport {getResponseData} from './utils'\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const headers = {\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\nexport function register({ email, password }){\r\n  return fetch(`${BASE_URL}/signup`, {\r\n      method : 'POST',\r\n      headers,\r\n      body : JSON.stringify({\r\n        email, password\r\n      })\r\n  }).then(result => getResponseData(result));\r\n}\r\n\r\nexport function login({email, password}){\r\n  return fetch(`${BASE_URL}/signin`, {\r\n      method : 'POST',\r\n      headers,\r\n      body : JSON.stringify({\r\n        email, password\r\n      })\r\n  }).then(result => getResponseData(result));\r\n}\r\n\r\nexport function checkUserToken(jwt) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    headers: {\r\n      ...headers,\r\n      'Authorization' : `Bearer ${jwt}`\r\n    },\r\n  })\r\n    .then((res) => getResponseData(res))\r\n}","export default __webpack_public_path__ + \"static/media/done-query.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/error-query.d4ce2a26.svg\";","import React, {useRef} from 'react';\r\n\r\nfunction  InfoTooltip(props) {\r\n\r\n  const popup = useRef();\r\n\r\n  function handleLayoutClick() {\r\n    props.onLayout(popup.current);\r\n  }\r\n\r\n  return (\r\n    <div ref={popup} className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`} role=\"dialog\" onClick={handleLayoutClick}>\r\n      <div className=\"popup__container popup__info\">\r\n        <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <img src={props.image} className=\"popup__info_image\" alt=\"Изображение результата запроса\"/>\r\n        <p className=\"popup__info_message\"> {props.message}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React, {useState, useEffect} from 'react';\r\nimport { Switch, Route, Redirect, useHistory} from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from \"./Header\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport api from \"../utils/api\";\r\nimport * as auth from \"../utils/auth\";\r\nimport useEventListener from '@use-it/event-listener';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nimport infoTooltipDoneImage from '../images/done-query.svg';\r\nimport infoTooltipErrorImage from '../images/error-query.svg';\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopup] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopup] = useState(false);\r\n  const [isInfoPopupOpen, setInfoPopupOpen] = useState(false)\r\n\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const [isLoggedIn, setLoggedIn] = useState(false);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n\r\n  const [headerUserLogin, setHeaderUserLogin] = useState('');\r\n\r\n  const [isInfoTooltip, setInfoTooltip] = useState({message : '', image : ''});\r\n\r\n  const [currentUser, setCurrentUser] = React.useState(CurrentUserContext);\r\n\r\n\r\n\r\n  function handleLogin({email, password}){\r\n\r\n    setLoading(true);\r\n\r\n    auth.login({\r\n      email, password\r\n    })\r\n      .then((res) => {\r\n\r\n        if(res.token){\r\n          localStorage.setItem('token', res.token);\r\n\r\n          setHeaderUserLogin(email);\r\n\r\n          setLoggedIn(true);\r\n\r\n          setInfoTooltip({\r\n            message : 'Вы успешно авторизовались!',\r\n            image : infoTooltipDoneImage\r\n          });\r\n\r\n          setInfoPopupOpen(true);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoggedIn(false);\r\n        setInfoTooltipError()\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleRegister({email, password}){\r\n\r\n    setLoading(true);\r\n\r\n    auth.register({\r\n        email, password\r\n      })\r\n      .then((res) => {\r\n\r\n        history.push('/singin');\r\n\r\n        setInfoTooltip({\r\n          message : 'Вы успешно зарегистрировались!',\r\n          image : infoTooltipDoneImage\r\n        });\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipError()\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false);\r\n    setHeaderUserLogin('');\r\n  }\r\n\r\n\r\n  function setInfoTooltipError() {\r\n    setInfoTooltip({\r\n      message : 'Что-то пошло не так! Попробуйте еще раз.',\r\n      image : infoTooltipErrorImage\r\n    })\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleConfirmClick() {\r\n    setConfirmPopup(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopup(true);\r\n  }\r\n\r\n  function handleCardConfirmDelete(card){\r\n    setSelectedCard(card);\r\n    handleConfirmClick();\r\n  }\r\n\r\n  function handlePressEsc({ key }) {\r\n    if(key === 'Escape') closeAllPopups()\r\n  }\r\n\r\n  function handleLayoutClick(popup) {\r\n    popup.addEventListener('mousedown', evt => {\r\n      evt.target === evt.currentTarget && closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopup(false);\r\n    setConfirmPopup(false);\r\n    setInfoPopupOpen(false);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      setSelectedCard({});\r\n    }, 700)\r\n  }\r\n\r\n  function handleAddPlaceSubmit({name, link}) {\r\n    setLoading(true);\r\n\r\n    api.addCard({name, link})\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups()\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setLoading(true);\r\n\r\n    api.deleteCard({cardId : selectedCard._id})\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== selectedCard._id);\r\n\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n        setSelectedCard({});\r\n\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus({cardId : card._id, isLiked: !isLiked})\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n\r\n        setCards(newCards);\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    setLoading(true);\r\n\r\n    api.setUserAvatar({avatar})\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleUpdateUser({name, about}){\r\n    setLoading(true);\r\n\r\n    api.setUserInfo({name, about})\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function checkTokenInStorage(){\r\n\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n\r\n      auth.checkUserToken(token)\r\n        .then((data) => {\r\n          setLoggedIn(true);\r\n          setHeaderUserLogin(data.data.email);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  useEffect( () => {\r\n    Promise.resolve(api.getUserInfo())\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.getCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    checkTokenInStorage();\r\n  }, [])\r\n\r\n\r\n\r\n\r\n  useEventListener('keydown', handlePressEsc);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"root\">\r\n          <Header\r\n            isLoggedIn={isLoggedIn}\r\n            userLogin={headerUserLogin}\r\n            onSignOut={handleSignOut}\r\n          />\r\n          <main className=\"main\">\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact\r\n                path='/'\r\n                isLoggedIn={isLoggedIn}\r\n                component={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onConfirmClick={handleCardConfirmDelete}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                cards={cards}\r\n              />\r\n              <Route path=\"/signin\">\r\n                {\r\n                  isLoggedIn\r\n                  ? <Redirect to=\"/\" />\r\n                  : <Login isLoading={isLoading}\r\n                           onSubmit={handleLogin}\r\n                    />\r\n                }\r\n              </Route>\r\n\r\n              <Route path=\"/signup\">\r\n                {\r\n                  isLoggedIn\r\n                  ? <Redirect to=\"/\" />\r\n                  : <Register\r\n                      isLoading={isLoading}\r\n                      onSubmit={handleRegister}\r\n                    />\r\n                }\r\n              </Route>\r\n              <Route path=\"*\">\r\n                <Redirect to=\"/\" />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer/>\r\n        </div>\r\n        \r\n        <AddPlacePopup \r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onAddPlace={handleAddPlaceSubmit} \r\n          isLoading={isLoading}/>\r\n\r\n        <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onUpdateAvatar={handleUpdateAvatar} \r\n          isLoading={isLoading}/> \r\n        \r\n        <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onUpdateUser={handleUpdateUser} \r\n          isLoading={isLoading}/> \r\n\r\n        <ImagePopup \r\n          card={selectedCard} \r\n          isOpen={isImagePopupOpen} \r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick}/>\r\n\r\n        <ConfirmPopup \r\n          isOpen={isConfirmPopupOpen} \r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick} \r\n          onConfirm={handleCardDelete}\r\n          handleLayoutClickisLoading={isLoading}/>\r\n\r\n        <InfoTooltip\r\n          name=\"info-tooltip\"\r\n          isOpen={isInfoPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick}\r\n          message={isInfoTooltip.message}\r\n          image={isInfoTooltip.image}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}