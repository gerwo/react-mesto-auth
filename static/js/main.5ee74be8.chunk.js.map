{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Form.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","utils/api.js","utils/utils.js","utils/auth.js","images/done-query.svg","images/error-query.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","isLoggedIn","to","Header","console","log","className","userLogin","navlinkPath","onClick","onSignOut","navlinkText","src","logo","alt","Form","useState","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","name","title","value","onChange","target","type","placeholder","required","autoComplete","maxLength","id","minLength","isLoading","loadingButtonTitle","buttonTitle","Login","useEffect","setHeaderNavLinkData","Register","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","onCardClick","aria-label","onCardLike","length","onConfirmClick","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","ImagePopup","card","isOpen","role","onLayout","onClose","PopupWithForm","popup","useRef","ref","current","method","children","buttonName","EditProfilePopup","setName","description","setDescription","e","onUpdateUser","EditAvatarPopup","avatarRef","onUpdateAvatar","setTimeout","AddPlacePopup","setLink","ConfirmPopup","onConfirm","api","url","headers","this","_url","_headers","fetch","then","result","_getResponseData","body","JSON","stringify","cardId","ok","json","Promise","reject","Error","status","authorization","getResponseData","BASE_URL","InfoTooltip","image","message","App","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopup","isConfirmPopupOpen","setConfirmPopup","isInfoPopupOpen","setInfoPopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","setLoading","headerUserLogin","setHeaderUserLogin","text","path","isNavLinkData","setNavLinkData","isInfoTooltip","setInfoTooltip","setCurrentUser","setHeaderNavlinkData","setInfoTooltipError","infoTooltipErrorImage","handleLayoutClick","addEventListener","currentTarget","closeAllPopups","resolve","getUserInfo","data","localStorage","getItem","token","jwt","res","catch","err","checkTokenInStorage","getCards","error","useEventListener","key","Provider","removeItem","exact","changeLikeCardStatus","newCard","newCards","c","auth","setItem","infoTooltipDoneImage","finally","push","addCard","setUserAvatar","setUserInfo","deleteCard","filter","handleLayoutClickisLoading","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ee74be8.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","\r\nimport React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction  Header(props) {\r\n  console.log(props)\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__menu\">\r\n        <p className=\"header__user-login\">{props.userLogin}</p>\r\n        <NavLink\r\n            to={props.navlinkPath}\r\n            onClick={props.onSignOut}\r\n            className=\"header__link opacity\">\r\n\r\n          {props.navlinkText}\r\n        </NavLink>\r\n      </div>\r\n      <img src={logo} className=\"logo\" alt=\"Логотип Mesto\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React, {useState} from 'react';\r\n\r\nfunction Form(props) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleEmailChange(evt){\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(evt){\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt){\r\n    evt.preventDefault();\r\n    props.onSubmit({email, password});\r\n  }\r\n\r\n\r\n  return (\r\n      <form onSubmit={handleSubmit} name={props.name} className=\"form\">\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n        <input \r\n          value = {email}\r\n          onChange = {handleEmailChange}\r\n          name=\"email-input\" \r\n          type=\"email\" \r\n          className=\"form__input form__input_type_email\" \r\n          placeholder=\"Email\" \r\n          required \r\n          autoComplete=\"email\" \r\n          maxLength=\"50\" />\r\n        <span className=\"form__input-error\" id=\"email-input-error\" />\r\n          \r\n        <input \r\n          value = {password}\r\n          onChange = {handlePasswordChange}\r\n          name=\"password-input\" \r\n          type=\"password\" \r\n          className=\"form__input form__input_type_password\" \r\n          placeholder=\"Пароль\" \r\n          required \r\n          autoComplete=\"password\" \r\n          minLength=\"8\" \r\n          maxLength=\"100\"/>\r\n        <span className=\"form__input-error\" id=\"password-input-error\" />\r\n        \r\n        <button type=\"submit\" className=\"button button_type_submit-form opacity\">{props.isLoading ? props.loadingButtonTitle : props.buttonTitle}</button>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default Form;","import React, {useEffect} from 'react';\r\nimport Form from './Form';\r\n\r\nfunction Login(props) {\r\n\r\n  useEffect(() => {\r\n    props.setHeaderNavLinkData('/signup', 'Регистрация');\r\n\r\n    return () => {\r\n      props.setHeaderNavLinkData('/', '');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <Form\r\n        name=\"login\"\r\n        isLoading = {props.isLoading}\r\n        onSubmit={props.onSubmit}\r\n        title = \"Войти\"\r\n        loadingButtonTitle = \"Вход...\"\r\n        buttonTitle = \"Войти\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","\r\nimport React, {useEffect} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Form from './Form';\r\n\r\nfunction Register(props){\r\n\r\n  useEffect(() => {\r\n    props.setHeaderNavLinkData('/signin', 'Войти');\r\n\r\n    return () => {\r\n      props.setHeaderNavLinkData('/', '');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <Form\r\n        name=\"registration\"\r\n        isLoading = {props.isLoading}\r\n        onSubmit={props.onSubmit}\r\n        title = \"Регистрация\"\r\n        loadingButtonTitle = \"Регистрация...\"\r\n        buttonTitle = \"Зарегистрироваться\"\r\n      />\r\n      <p className=\"auth__text\">Уже зарегистрированы? <NavLink to=\"/signin\" className=\"auth__link opacity\">Войти</NavLink></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const isOwn = props.owner._id === currentUser._id;\r\n\r\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (\r\n    `button button_type_like opacity ${isLiked ? 'button_type_like_active' : ''}`\r\n  );\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `button button_type_delete-card ${isOwn ? 'button_type_delete-card-visible' : 'button_type_delete-card-hidden'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props);\r\n  }\r\n\r\n  function handleDeleteClick(){\r\n    //console.log(props);\r\n    props.onConfirmClick(props);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\"> \r\n      <img className=\"card__image\" alt={`Изображение ${props.name}`} src={props.link} onClick={handleClick}/>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__title\">{props.name}</h2>\r\n        <div className=\"card__like-block\">\r\n          <button className={cardLikeButtonClassName}  aria-label=\"Нравиться\" type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-count\">{props.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React, {useEffect} from 'react';\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    props.setHeaderNavLinkData('/sign-in', 'Выйти');\r\n\r\n    return () => {\r\n      props.setHeaderNavLinkData('/', '');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-block\">\r\n          <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Аватар\"/>\r\n          <button\r\n            className=\"button button_type_edite-avatar opacity\"\r\n            aria-label=\"Редактировать\"\r\n            type=\"button\"\r\n            onClick={props.onEditAvatar}/>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__full-name-wraper\">\r\n            <h1 className=\"profile__full-name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"button button_type_edite-profile opacity\"\r\n              aria-label=\"Редактировать\"\r\n              type=\"button\"\r\n              onClick={props.onEditProfile}/>\r\n          </div>\r\n          <p className=\"profile__occupation\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"button button_type_add-card opacity\"\r\n          aria-label=\"Добавить карточку\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}/>\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"cards__block\">\r\n          {props.cards.map(item => <Card \r\n            key = {item._id} \r\n            onConfirmClick={props.onConfirmClick} \r\n            onCardLike={props.onCardLike} \r\n            onCardClick={props.onCardClick} \r\n            {...item}/>)}\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  const card = props.card;\r\n  \r\n  \r\n  return (\r\n    <div className={`popup popup_image ${props.isOpen ? 'popup_opened' : ''}`}  role=\"dialog\" onClick={props.onLayout}>\r\n      <div className=\"popup__image-container\">\r\n        <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image\" alt={`Изображение ${card.name}`} src={card.link}/>\r\n        <h2 className=\"popup__image-title\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;","import React, {useRef} from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const popup = useRef();\r\n\r\n  function handleLayoutClick() {\r\n    props.onLayout(popup.current);\r\n  }\r\n\r\n  return (\r\n    <div ref={popup} className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`} role=\"dialog\" onClick={handleLayoutClick}>\r\n      <div className=\"popup__container\">\r\n      <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"popup__form popup__form_add-new-card\" method=\"POST\" name={props.name} onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button type=\"submit\"  className=\"button popup__button button_type_submit opacity\">{props.isLoading ? props.loadingButtonTitle : props.buttonName}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Редактировать профиль\" \r\n      buttonName=\"Сохранить\" \r\n      name=\"profile\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'>\r\n      \r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_full-name\" \r\n        name=\"name\" \r\n        placeholder=\"ФИО\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"20\"\r\n        id=\"full-name\"\r\n        value={name}\r\n        onChange={handleChangeName}/>\r\n      <span id=\"full-name-error\" className=\"popup__error\"></span>\r\n      \r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_occupation\" \r\n        name=\"occupation\" \r\n        placeholder=\"Род деятельности\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"200\"\r\n        id=\"occupation\"\r\n        value={description}\r\n        onChange={handleChangeAbout}/>\r\n      <span id=\"occupation-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n    \r\n    setTimeout(() => {\r\n      avatarRef.current.value = '';\r\n    }, 700);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Обновить аватар\" \r\n      buttonName=\"Сохранить\" \r\n      name=\"avatar\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'\r\n      >\r\n      <input\r\n        ref={avatarRef}\r\n        type=\"url\" \r\n        className=\"popup__input popup__input_avatar-link\" \r\n        name=\"avatar\" \r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        id=\"avatar\"/>\r\n      <span id=\"avatar-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    \r\n    props.onAddPlace({name, link});  \r\n\r\n    setTimeout(() => {\r\n      setName('');\r\n      setLink('');\r\n    }, 700)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Новое место\" \r\n      buttonName=\"Создать\" \r\n      name=\"card\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      isLoading={props.isLoading}\r\n      onLayout={props.onLayout}\r\n      onSubmit= {handleSubmit}\r\n      loadingButtonTitle = 'Сохранение...'>\r\n      <input \r\n        value={name}\r\n        onChange={handleChangeName}\r\n        type=\"text\" \r\n        className=\"popup__input popup__input_image-title\" \r\n        name=\"image-title\" \r\n        placeholder=\"Название\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"30\" \r\n        id=\"image-title\"/>\r\n      <span id=\"image-title-error\" className=\"popup__error\"></span>\r\n      \r\n      <input \r\n        value={link}\r\n        onChange={handleChangeLink}\r\n        type=\"url\" \r\n        className=\"popup__input popup__input_image-link\" \r\n        name=\"image-link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        required\r\n        id=\"image-link\"/>\r\n      <span id=\"image-link-error\" className=\"popup__error\"></span>\r\n   \r\n   </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props){\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onConfirm(props);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      title=\"Вы уверены?\" \r\n      buttonName=\"Да\" \r\n      name=\"confirm\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onLayout={props.onLayout}\r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      loadingButtonTitle = 'Удаление...'\r\n      >\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;","class Api{\r\n  \r\n  constructor({url, headers}){\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  addCard({name, link}){\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body : JSON.stringify({\r\n        name: name,\r\n        link : link \r\n      })\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  getUserInfo(){\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  setUserInfo({name, about}){\r\n    return fetch(`${this._url}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body : JSON.stringify({name, about})\r\n      })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  setUserAvatar({avatar}) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body : JSON.stringify({avatar})\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n  \r\n  deleteCard({cardId}) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  changeLikeCardStatus({cardId, isLiked}){\r\n\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(result => this._getResponseData({result}));\r\n  }\r\n\r\n  _getResponseData({result}){\r\n    return result.ok ? result.json() : Promise.reject(new Error(`Ошибка ${result.status}`));\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url : 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers :{\r\n    authorization : 'a2645d68-6dae-4ace-a29b-319c06bb5839',\r\n    'Content-Type' : 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n","\r\nexport function getResponseData(result){\r\n  return result.ok ? result.json() : Promise.reject(new Error(`Ошибка ${result.status}`));\r\n}","\r\nimport {getResponseData} from './utils'\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const headers = {\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\nexport function register({ email, password }){\r\n  return fetch(`${BASE_URL}/signup`, {\r\n      method : 'POST',\r\n      headers,\r\n      body : JSON.stringify({\r\n        email, password\r\n      })\r\n  }).then(result => getResponseData(result));\r\n}\r\n\r\nexport function login({email, password}){\r\n  return fetch(`${BASE_URL}/signin`, {\r\n      method : 'POST',\r\n      headers,\r\n      body : JSON.stringify({\r\n        email, password\r\n      })\r\n  }).then(result => getResponseData(result));\r\n}\r\n\r\nexport function checkUserToken(jwt) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    headers: {\r\n      ...headers,\r\n      'Authorization' : `Bearer ${jwt}`\r\n    },\r\n  })\r\n    .then((res) => getResponseData(res))\r\n}","export default __webpack_public_path__ + \"static/media/done-query.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/error-query.d4ce2a26.svg\";","import React, {useRef} from 'react';\r\n\r\nfunction  InfoTooltip(props) {\r\n\r\n  const popup = useRef();\r\n\r\n  function handleLayoutClick() {\r\n    props.onLayout(popup.current);\r\n  }\r\n\r\n  return (\r\n    <div ref={popup} className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`} role=\"dialog\" onClick={handleLayoutClick}>\r\n      <div className=\"popup__container popup__info\">\r\n        <button className=\"button button_type_close opacity\" aria-label=\"Закрыть\" type=\"button\" onClick={props.onClose}></button>\r\n        <img src={props.image} className=\"popup__info_image\"/>\r\n        <p className=\"popup__info_message\"> {props.message}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React, {useState, useEffect} from 'react';\r\nimport { Switch, Route, Redirect, useHistory} from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from \"./Header\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport api from \"../utils/api\";\r\nimport * as auth from \"../utils/auth\";\r\nimport useEventListener from '@use-it/event-listener';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nimport infoTooltipDoneImage from '../images/done-query.svg';\r\nimport infoTooltipErrorImage from '../images/error-query.svg';\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopup] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopup] = useState(false);\r\n  const [isInfoPopupOpen, setInfoPopupOpen] = useState(false)\r\n\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const [isLoggedIn, setLoggedIn] = useState(false);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n\r\n  const [headerUserLogin, setHeaderUserLogin] = useState('');\r\n\r\n  const [isNavLinkData, setNavLinkData] = useState({text: '', path: ''});\r\n  const [isInfoTooltip, setInfoTooltip] = useState({message : '', image : ''});\r\n\r\n  const [currentUser, setCurrentUser] = React.useState(CurrentUserContext);\r\n\r\n\r\n  function setHeaderNavlinkData(path, text) {\r\n    setNavLinkData({text, path});\r\n  }\r\n\r\n  function handleLogin({email, password}){\r\n\r\n    setLoading(true);\r\n\r\n    auth.login({\r\n      email, password\r\n    })\r\n      .then((res) => {\r\n\r\n        if(res.token){\r\n          localStorage.setItem('email', email);\r\n          localStorage.setItem('token', res.token);\r\n\r\n          setHeaderUserLogin(email);\r\n\r\n          setLoggedIn(true);\r\n\r\n          setInfoTooltip({\r\n            message : 'Вы успешно авторизовались!',\r\n            image : infoTooltipDoneImage\r\n          });\r\n\r\n          setInfoPopupOpen(true);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoggedIn(false);\r\n        setInfoTooltipError()\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleRegister({email, password}){\r\n\r\n    setLoading(true);\r\n\r\n    auth.register({\r\n        email, password\r\n      })\r\n      .then((res) => {\r\n\r\n        history.push('/singin');\r\n\r\n        setInfoTooltip({\r\n          message : 'Вы успешно зарегистрировались!',\r\n          image : infoTooltipDoneImage\r\n        });\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipError()\r\n        setInfoPopupOpen(true);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false);\r\n    setHeaderUserLogin('');\r\n  }\r\n\r\n\r\n  function setInfoTooltipError() {\r\n    setInfoTooltip({\r\n      message : 'Что-то пошло не так! Попробуйте еще раз.',\r\n      image : infoTooltipErrorImage\r\n    })\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleConfirmClick() {\r\n    setConfirmPopup(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopup(true);\r\n  }\r\n\r\n  function handleCardConfirmDelete(card){\r\n    setSelectedCard(card);\r\n    handleConfirmClick();\r\n  }\r\n\r\n  function handlePressEsc({ key }) {\r\n    if(key === 'Escape') closeAllPopups()\r\n  }\r\n\r\n  function handleLayoutClick(popup) {\r\n    popup.addEventListener('mousedown', evt => {\r\n      evt.target === evt.currentTarget && closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopup(false);\r\n    setConfirmPopup(false);\r\n    setInfoPopupOpen(false);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      setSelectedCard({});\r\n    }, 700)\r\n  }\r\n\r\n  useEffect( () => {\r\n    Promise.resolve(api.getUserInfo())\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    checkTokenInStorage();\r\n    setHeaderUserLogin(localStorage.getItem('mail'))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    api.getCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }, []);\r\n  \r\n  function handleAddPlaceSubmit({name, link}) {\r\n    setLoading(true);\r\n\r\n    api.addCard({name, link})\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups()\r\n    }).catch(error => console.log(error));\r\n  }\r\n\r\n  function checkTokenInStorage(){\r\n\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n\r\n      auth.checkUserToken(token)\r\n        .then(() => {\r\n          setLoggedIn(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setLoading(true);\r\n\r\n    api.deleteCard({cardId : selectedCard._id})\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== selectedCard._id);\r\n        \r\n        setCards(newCards);\r\n        closeAllPopups();\r\n        setSelectedCard({});\r\n\r\n      }).catch(error => console.log(error));\r\n  }\r\n  \r\n  function handleCardLike(card) {    \r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus({cardId : card._id, isLiked: !isLiked})\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        \r\n        setCards(newCards);\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    setLoading(true);\r\n\r\n    api.setUserAvatar({avatar})\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  function handleUpdateUser({name, about}){\r\n    setLoading(true);\r\n    \r\n    api.setUserInfo({name, about})\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  useEventListener('keydown', handlePressEsc);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"root\">\r\n          <Header\r\n            isLoggedIn={isLoggedIn}\r\n            userLogin={headerUserLogin}\r\n            onSignOut={handleSignOut}\r\n            navlinkText={isNavLinkData.text}\r\n            navlinkPath={isNavLinkData.path}\r\n          />\r\n          <main className=\"main\">\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact\r\n                path='/'\r\n                isLoggedIn={isLoggedIn}\r\n                setHeaderNavLinkData = {setHeaderNavlinkData}\r\n                component={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onConfirmClick={handleCardConfirmDelete}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                cards={cards}\r\n              />\r\n              <Route path=\"/signin\">\r\n                {\r\n                  isLoggedIn\r\n                  ? <Redirect to=\"/\" />\r\n                  : <Login isLoading={isLoading}\r\n                           onSubmit={handleLogin}\r\n                           setHeaderNavLinkData = {setHeaderNavlinkData}\r\n                    />\r\n                }\r\n              </Route>\r\n\r\n              <Route path=\"/signup\">\r\n                {\r\n                  isLoggedIn\r\n                  ? <Redirect to=\"/\" />\r\n                  : <Register\r\n                      isLoading={isLoading}\r\n                      onSubmit={handleRegister}\r\n                      setHeaderNavLinkData = {setHeaderNavlinkData}\r\n                    />\r\n                }\r\n              </Route>\r\n              <Route path=\"*\">\r\n                <Redirect to=\"/\" />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer/>\r\n        </div>\r\n        \r\n        <AddPlacePopup \r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onAddPlace={handleAddPlaceSubmit} \r\n          isLoading={isLoading}/>\r\n\r\n        <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onUpdateAvatar={handleUpdateAvatar} \r\n          isLoading={isLoading}/> \r\n        \r\n        <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onLayout={handleLayoutClick}\r\n          onUpdateUser={handleUpdateUser} \r\n          isLoading={isLoading}/> \r\n\r\n        <ImagePopup \r\n          card={selectedCard} \r\n          isOpen={isImagePopupOpen} \r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick}/>\r\n\r\n        <ConfirmPopup \r\n          isOpen={isConfirmPopupOpen} \r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick} \r\n          onConfirm={handleCardDelete}\r\n          handleLayoutClickisLoading={isLoading}/>\r\n\r\n        <InfoTooltip\r\n          name=\"info-tooltip\"\r\n          isOpen={isInfoPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onLayout={handleLayoutClick}\r\n          message={isInfoTooltip.message}\r\n          image={isInfoTooltip.image}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}